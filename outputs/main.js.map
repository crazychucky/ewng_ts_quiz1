{"version":3,"file":"main.js","sourceRoot":"","sources":["../main.ts"],"names":[],"mappings":"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","sourcesContent":["import { randomBytes } from 'crypto';\nimport * as readline from 'readline';\n\nenum Operator {Add, Sub};\nclass RandomUtil {\n  seed:number; \n  _pa:number = 149;\n  _pc:number = 577;\n  _pm:number = 960587;\n \n  // 构造函数 \n  constructor(seed:number = 12345) { \n      this.seed = seed; \n  }  \n  random():number { \n    let ret = (this._pa*this.seed+this._pc)%this._pm;  //range 0~pm-1\n    this.seed = ret;\n    return ret;\n  } \n}\n\nclass RandomEquation {\n  // 字段 \n  rd:RandomUtil;\n  a:number = 0;\n  b:number = 0;\n  result:number = 0;\n  question:string = \"\";\n  op:Operator = Operator.Add;\n \n  // 构造函数 \n  constructor(seed:number = 123456) { \n    this.rd = new RandomUtil(seed);\n    this.refresh()\n  }  \n  refresh():void { \n    this.a = this.genNum();\n    this.b = this.genNum();\n    this.op = this.genOp();\n    if(this.op == Operator.Sub){\n      if(this.a < this.b){\n        let tmp = this.a;\n        this.a = this.b;\n        this.b = tmp;\n      }\n    }\n\n    let qStr:string = this.a.toString();\n    if(this.op == Operator.Add){\n      qStr = qStr + ' + ';\n      this.result = this.a + this.b;\n    }\n    else{\n      qStr = qStr + ' - ';\n      this.result = this.a - this.b;\n    }\n    qStr = qStr + this.b.toString() + ' = ?\\ninput your answer:'\n    this.question = qStr;\n  } \n  isRight(r:number):boolean { \n    return this.result == r;\n  }\n  genOp():Operator { \n    let tmp = this.rd.random()\n    let ret = tmp%2 + Operator.Add;\n    return ret\n  } \n  genNum():number { \n    let tmp = this.rd.random()\n    let ret = tmp%5 + 1;\n    return ret\n  } \n}\n\nlet rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout\n});\n\nlet eq = new RandomEquation(); \nlet cnt = 1;\nlet total = 3;\nlet point = 0;\nconsole.log('Quiz Begin!');\n\nvar recursiveAsyncReadLine = function () {\n  rl.question(eq.question, function (answer) {\n    let input = Number(answer);\n    let isAnswerRight:boolean = false\n    if(!isNaN(input)){\n      if(eq.isRight(input)){\n        isAnswerRight = true;\n      }\n    }\n    if(isAnswerRight){\n      point++;\n      console.log('Right! now Point:' + point);\n    }\n    else{\n      console.log('Wrong! now Point:' + point);\n    }\n    if(cnt >= total){\n      console.log(\"quiz ends!\");\n      return rl.close(); //closing RL and returning from function.\n    }\n    cnt = cnt + 1;\n    eq.refresh();\n    recursiveAsyncReadLine(); //Calling this function again to ask new question\n  });\n};\n\nrecursiveAsyncReadLine(); //we have to actually start our recursion somehow\n"]}